[{"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:02:58-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:02:58-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[37s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[37s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[37s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[37s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[37s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[37s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355378.276, "139.36666666666667"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355378.276, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355378.276, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355378.276, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355378.276, "152.93333333333334"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355378.276, "146.76666666666668"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355378.276, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355378.276, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355378.276, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355378.376, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355378.475, "165.26666666666668"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355378.475, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355378.475, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355378.475, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355378.475, "152.93333333333334"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355378.475, "150.46666666666667"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355378.475, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355378.475, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355378.475, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355378.572, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 0.0, "value": 0}}], "traffic_percentage": 20.0}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 146.76666666666668, "value": 0}}], "traffic_percentage": 80.0}, "assessment": {"summary": {"all_success_criteria_met": false, "abort_experiment": false, "conclusions": ["Experiment started"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["Insufficient sample size. "], "success_criterion_met": false, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 80.0}, "canary": {"traffic_percentage": 20.0}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:03:30-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:03:30-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 80}, "canary": {"traffic_percentage": 20}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[69s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[69s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[69s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[69s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[69s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[69s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355410.258, "247.25"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355410.258, "272.16666666666663"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355410.258, "9.200000000000001"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355410.258, "240.73333333333335"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355410.258, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355410.258, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355410.258, "7.283333333333333"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355410.258, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355410.258, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355410.358, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355410.461, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355410.461, "259.1333333333333"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355410.461, "9.200000000000001"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355410.461, "256.06666666666666"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355410.461, "9.200000000000001"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355410.461, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355410.461, "269.8666666666667"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355410.461, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355410.461, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355410.564, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 9.200000000000001, "value": 0}}], "traffic_percentage": 20}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 240.73333333333335, "value": 0}}], "traffic_percentage": 80.0}, "assessment": {"summary": {"all_success_criteria_met": false, "abort_experiment": false, "conclusions": ["All success criteria were not met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["Insufficient sample size. "], "success_criterion_met": false, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 80.0}, "canary": {"traffic_percentage": 20}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:04:00-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:04:00-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 80}, "canary": {"traffic_percentage": 20}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[99s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[99s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[99s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[99s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[99s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[99s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355440.754, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355440.754, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355440.754, "377.52"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355440.754, "31.68"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355440.754, "31.68"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355440.754, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355440.754, "388.08000000000004"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355440.754, "345.84000000000003"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355440.754, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355440.858, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355440.858, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355440.96, "31.68"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355440.96, "345.84000000000003"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355440.96, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355440.96, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355440.96, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355440.96, "377.52"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355440.96, "388.08000000000004"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355440.96, "31.68"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355440.96, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355441.058, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355441.058, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 31.68, "value": 0.0}}], "traffic_percentage": 40}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 345.84000000000003, "value": 0}}], "traffic_percentage": 60.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 60.0}, "canary": {"traffic_percentage": 40}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:04:31-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:04:31-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 60}, "canary": {"traffic_percentage": 40}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[130s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[130s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[130s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[130s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[130s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[130s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355471.306, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355471.306, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355471.306, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355471.306, "438.5952380952381"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355471.306, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355471.306, "61.75000000000001"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355471.306, "59.42857142857143"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355471.306, "495.70238095238096"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355471.306, "512.2619047619048"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355471.413, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355471.413, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355471.521, "61.90476190476191"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355471.521, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355471.521, "63.142857142857146"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355471.521, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355471.521, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355471.521, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355471.521, "497.7142857142858"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355471.521, "510.09523809523813"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355471.521, "443.2380952380953"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355471.617, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355471.617, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 63.142857142857146, "value": 0.0}}], "traffic_percentage": 60}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 438.5952380952381, "value": 0}}], "traffic_percentage": 40.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 40.0}, "canary": {"traffic_percentage": 60}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:05:01-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:05:01-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 40}, "canary": {"traffic_percentage": 60}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[160s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[160s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[160s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[160s] offset 1s)) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[160s] offset 1s)) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[160s] offset 1s)) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355501.876, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355501.876, "622.1037037037037"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355501.876, "125.98518518518519"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355501.876, "484.02962962962965"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355501.876, "136.05925925925925"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355501.876, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355501.876, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355501.876, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355501.876, "624"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355501.976, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355501.976, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355502.083, "130.13333333333333"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355502.083, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355502.083, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355502.083, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355502.083, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355502.083, "621.8666666666666"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355502.083, "626.1333333333333"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355502.083, "125.86666666666666"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355502.083, "484.26666666666665"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355502.182, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355502.182, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 130.13333333333333, "value": 0.0}}], "traffic_percentage": 80}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 484.02962962962965, "value": 0}}], "traffic_percentage": 20.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 20.0}, "canary": {"traffic_percentage": 80}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:05:33-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:05:33-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 20}, "canary": {"traffic_percentage": 80}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[192s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[192s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[192s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[192s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[192s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[192s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355533.325, "223.3212121212121"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355533.325, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355533.325, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355533.325, "208.38787878787878"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355533.325, "515.0060606060606"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355533.325, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355533.325, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355533.325, "732.4121212121213"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355533.325, "745.5999999999999"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355533.422, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355533.422, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355533.523, "208.38787878787878"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355533.523, "223.3212121212121"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355533.523, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355533.523, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355533.523, "732.4121212121213"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355533.523, "745.5999999999999"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355533.523, "515.0060606060606"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355533.523, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355533.523, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355533.62, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355533.62, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 223.3212121212121, "value": 0.0}}], "traffic_percentage": 99}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 515.0060606060606, "value": 0}}], "traffic_percentage": 1.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 1.0}, "canary": {"traffic_percentage": 99}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:06:03-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:06:03-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 1}, "canary": {"traffic_percentage": 99}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[222s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[222s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[222s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[222s] offset 1s)) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[222s] offset 1s)) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[222s] offset 1s)) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355563.868, "516.8572298887709"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355563.868, "342.1055029922617"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355563.868, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355563.868, "329.012372117352"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355563.868, "856.2793389991803"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355563.868, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355563.868, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355563.868, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355563.868, "857.5806130455136"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355563.967, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355563.967, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355564.064, "859.4513588581387"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355564.064, "858.3940498809201"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355564.064, "315.0259739146584"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355564.064, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355564.064, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355564.064, "523.2816216911187"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355564.064, "331.94096941472264"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355564.064, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355564.064, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355564.161, "NaN"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355564.161, "0"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 331.94096941472264, "value": 0.0}}], "traffic_percentage": 99}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 516.8572298887709, "value": 0}}], "traffic_percentage": 1.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 1.0}, "canary": {"traffic_percentage": 99}}}}, {"request_payload": {"name": "reviews", "baseline": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:06:34-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}}, "canary": {"start_time": "2019-06-12T12:02:21-04:00", "end_time": "2019-06-12T12:06:34-04:00", "tags": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}}, "traffic_control": {"warmup_request_count": 0, "max_traffic_percent": 99, "step_size": 20, "on_success": "canary", "success_criteria": [{"metric_name": "iter8_error_rate", "type": "delta", "value": 0.5, "sample_size": 10, "stop_on_failure": false, "enable_traffic_control": false, "confidence": 0}]}, "_last_state": {"baseline": {"traffic_percentage": 1}, "canary": {"traffic_percentage": 99}}}, "prometheus_requests": ["sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[253s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[253s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[253s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[253s])) by (destination_service_namespace,destination_workload)", "sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',response_code=~'5..',reporter='source'}[253s])) by (destination_service_namespace,destination_workload) / sum(increase(istio_requests_total{source_workload_namespace!='knative-serving',reporter='source'}[253s])) by (destination_service_namespace,destination_workload)"], "prometheus_responses": [{"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355594.351, "976.0880555555555"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355594.351, "513.8008333333332"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355594.351, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355594.351, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355594.351, "964.0705555555555"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355594.351, "450.76166666666666"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355594.351, "453.4322222222222"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355594.351, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355594.351, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355594.45, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355594.45, "NaN"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "details-v1"}, "value": [1560355594.548, "964.0705555555555"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "productpage-v1"}, "value": [1560355594.548, "976.0880555555555"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3-c5497dccc"}, "value": [1560355594.548, "0"]}, {"metric": {"destination_service_namespace": "unknown", "destination_workload": "unknown"}, "value": [1560355594.548, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "ratings-v1"}, "value": [1560355594.548, "450.76166666666666"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v1"}, "value": [1560355594.548, "513.8008333333332"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355594.548, "453.4322222222222"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v3"}, "value": [1560355594.548, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355594.548, "0"]}]}}, {"status": "success", "data": {"resultType": "vector", "result": [{"metric": {"destination_service_namespace": "default", "destination_workload": "reviews-v2"}, "value": [1560355594.648, "0"]}, {"metric": {"destination_service_namespace": "default", "destination_workload": "unknown"}, "value": [1560355594.648, "NaN"]}]}}], "service_response": {"metric_backend_url": "http://169.63.197.69:31346", "canary": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 453.4322222222222, "value": 0.0}}], "traffic_percentage": 99}, "baseline": {"metrics": [{"metric_name": "iter8_error_rate", "metric_type": "gauge", "statistics": {"sample_size": 513.8008333333332, "value": 0}}], "traffic_percentage": 1.0}, "assessment": {"summary": {"all_success_criteria_met": true, "abort_experiment": false, "conclusions": ["All success criteria were  met"]}, "success_criteria": [{"metric_name": "iter8_error_rate", "conclusions": ["iter8_error_rate of the candidate is within delta 0.5  of the baseline. "], "success_criterion_met": true, "abort_experiment": false}]}, "_last_state": {"baseline": {"traffic_percentage": 1.0}, "canary": {"traffic_percentage": 99}}}}]
